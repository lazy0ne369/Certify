import{c as f,u as b,a as w,r as k,j as e,m as j,S as N,t as g}from"./index-CW9Uh7i3.js";import{u as v,a as S,o as C,s as u}from"./schemas-CqVGTqjY.js";import{p as L}from"./proxyUsers-DS1B74NO.js";import{I as p}from"./Input-Bpd7J3d9.js";import{B as I}from"./Button-ILoPTvOg.js";import{L as E}from"./lock-Cbsinp-i.js";import"./eye-e4GK6SN1.js";import"./loader-circle-B7Actnwe.js";const _=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],M=f("info",_);const U=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],V=f("mail",U),q=(t,a)=>{if(!t||!a)return{success:!1,message:"Email and password are required."};const s=L.find(n=>n.email.toLowerCase()===t.toLowerCase());if(!s)return{success:!1,message:"No account found with that email."};if(s.password!==a)return{success:!1,message:"Incorrect password. Please try again."};const{password:r,...o}=s;return{success:!0,user:o}},A=C({email:u().email("Enter a valid email address"),password:u().min(6,"Password must be at least 6 characters")}),F={hidden:{opacity:0,y:28,scale:.97},visible:{opacity:1,y:0,scale:1,transition:{duration:.4,ease:[.25,.46,.45,.94]}}};function h({label:t,email:a,password:s,onFill:r}){return e.jsxs("button",{type:"button",onClick:()=>r(a,s),className:"flex flex-col items-start px-3 py-2 rounded-lg bg-indigo-50 dark:bg-indigo-900/30 hover:bg-indigo-100 dark:hover:bg-indigo-800/40 transition-colors text-left w-full",children:[e.jsx("span",{className:"text-[10px] font-semibold text-indigo-500 dark:text-indigo-400 uppercase tracking-wide",children:t}),e.jsx("span",{className:"text-xs text-gray-600 dark:text-gray-300 font-mono",children:a}),e.jsxs("span",{className:"text-xs text-gray-400 dark:text-gray-500 font-mono",children:["pw: ",s]})]})}function G(){const t=b(),{login:a}=w(),[s,r]=k.useState(!1),{register:o,handleSubmit:n,setValue:c,formState:{errors:m}}=v({resolver:S(A)}),x=(l,d)=>{c("email",l,{shouldValidate:!0}),c("password",d,{shouldValidate:!0})},y=async({email:l,password:d})=>{r(!0);try{const i=q(l,d);if(!i.success){g.error(i.message);return}a(i.user),g.success(`Welcome back, ${i.user.name}!`),t(i.user.role==="admin"?"/admin/dashboard":"/user/dashboard",{replace:!0})}finally{r(!1)}};return e.jsx("div",{className:`min-h-screen flex items-center justify-center px-4 py-10\r
                    bg-gradient-to-br from-indigo-50 via-white to-indigo-100\r
                    dark:from-gray-950 dark:via-gray-900 dark:to-indigo-950`,children:e.jsx(j.div,{variants:F,initial:"hidden",animate:"visible",className:"w-full max-w-md",children:e.jsxs("div",{className:`rounded-2xl shadow-xl border border-gray-100 dark:border-gray-800\r
                        bg-white/90 dark:bg-gray-900/90 backdrop-blur-md px-8 py-10`,children:[e.jsxs("div",{className:"flex flex-col items-center mb-8",children:[e.jsx("div",{className:"w-14 h-14 rounded-2xl bg-indigo-600 flex items-center justify-center mb-3 shadow-lg shadow-indigo-200 dark:shadow-indigo-900",children:e.jsx(N,{className:"w-7 h-7 text-white",strokeWidth:2.5})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white tracking-tight",children:"Certify"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"Manage your professional certifications"})]}),e.jsxs("form",{onSubmit:n(y),className:"space-y-4",noValidate:!0,children:[e.jsx(p,{label:"Email",type:"email",placeholder:"you@example.com",icon:V,error:m.email?.message,...o("email")}),e.jsx(p,{label:"Password",type:"password",placeholder:"••••••••",icon:E,error:m.password?.message,...o("password")}),e.jsx(I,{type:"submit",variant:"primary",size:"lg",fullWidth:!0,loading:s,className:"mt-2",children:s?"Signing in…":"Sign In"})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("div",{className:"flex items-center gap-1.5 mb-2",children:[e.jsx(M,{className:"w-3.5 h-3.5 text-indigo-400"}),e.jsx("p",{className:"text-[11px] font-semibold text-indigo-500 dark:text-indigo-400 uppercase tracking-wide",children:"Test Credentials — click to fill"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx(h,{label:"User",email:"ashish@gmail.com",password:"user123",onFill:x}),e.jsx(h,{label:"Admin",email:"admin@gmail.com",password:"admin123",onFill:x})]})]})]})})})}export{G as default};
