import{c as N,n as w,o as k,j as e,m as o,d as C,A as P,a as h,r as S,s as E,l as p,U as M,t as u}from"./index-CW9Uh7i3.js";import{u as A,a as I,o as U,s as x}from"./schemas-CqVGTqjY.js";import{P as V}from"./PageWrapper-C_7DPoTf.js";import{a as B}from"./certHelpers-CvNo_UVK.js";import{B as D}from"./briefcase-D9R-ofMx.js";import{C as L}from"./calendar-DqUV_Jh0.js";import{C as T}from"./circle-check-big-B_mpq1Dl.js";import{B as j}from"./Button-ILoPTvOg.js";import{I as g}from"./Input-Bpd7J3d9.js";import{L as z}from"./lock-Cbsinp-i.js";import"./loader-circle-B7Actnwe.js";import"./eye-e4GK6SN1.js";const F=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],$=N("save",F);function f({icon:a,label:t,value:i,color:r}){const n={indigo:"bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400",emerald:"bg-emerald-50 dark:bg-emerald-900/30 text-emerald-600 dark:text-emerald-400"};return e.jsxs("div",{className:`flex flex-col items-center gap-1 px-4 py-3 rounded-xl ${n[r]}`,children:[e.jsx(a,{className:"w-4 h-4"}),e.jsx("span",{className:"text-lg font-bold",children:i}),e.jsx("span",{className:"text-[11px] font-medium opacity-80",children:t})]})}function q({user:a}){const t=B(a?.id),i=w(a?.name??"U"),r=k(a?.name??"");return e.jsxs(o.div,{variants:C,initial:"hidden",animate:"visible",className:"rounded-xl shadow-md bg-white dark:bg-gray-900 border border-gray-100 dark:border-gray-800 overflow-hidden",children:[e.jsx("div",{className:"h-20 bg-gradient-to-r from-indigo-500 to-indigo-700"}),e.jsxs("div",{className:"px-6 pb-6 -mt-10 flex flex-col items-center text-center",children:[a?.avatar?e.jsx("img",{src:a.avatar,alt:a.name,className:"w-20 h-20 rounded-full ring-4 ring-white dark:ring-gray-900 object-cover shadow-md"}):e.jsx("span",{className:`w-20 h-20 rounded-full ring-4 ring-white dark:ring-gray-900 flex items-center justify-center text-white text-2xl font-bold shadow-md ${r}`,children:i}),e.jsx("h2",{className:"mt-3 text-xl font-bold text-gray-900 dark:text-white",children:a?.name}),e.jsx("p",{className:"text-sm text-indigo-600 dark:text-indigo-400 font-medium",children:a?.designation}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1 mt-0.5",children:[e.jsx(D,{className:"w-3 h-3"})," ",a?.department]}),e.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400 dark:text-gray-500 mt-2",children:[e.jsx(L,{className:"w-3 h-3"}),"Member since January 2024"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-5 w-full",children:[e.jsx(f,{icon:P,label:"Total Certs",value:t.total,color:"indigo"}),e.jsx(f,{icon:T,label:"Active",value:t.active,color:"emerald"})]})]})]})}const H=["Engineering","Analytics","Infrastructure","Management"],R=U({name:x().min(2,"Name must be at least 2 characters"),designation:x().min(2,"Designation is required"),department:x().min(1,"Department is required")}),l="w-full h-10 px-3 text-sm rounded-xl border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-colors";function se(){const a=h(s=>s.user),t=h(s=>s.updateUser),[i,r]=S.useState(!1),{register:n,handleSubmit:b,formState:{errors:c}}=A({resolver:I(R),defaultValues:{name:a?.name??"",designation:a?.designation??"",department:a?.department??""}}),y=async s=>{r(!0),await new Promise(v=>setTimeout(v,600)),t(s),r(!1),u.success("Profile updated successfully!")},d=({children:s})=>e.jsx("label",{className:"block text-xs font-medium text-gray-600 dark:text-gray-400 mb-1",children:s}),m=({msg:s})=>s?e.jsx("p",{className:"text-xs text-red-500 mt-0.5",children:s}):null;return e.jsx(V,{children:e.jsxs(o.div,{variants:E,initial:"hidden",animate:"visible",className:"space-y-6",children:[e.jsx(o.div,{variants:p,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"flex items-center justify-center w-9 h-9 rounded-xl bg-indigo-100 dark:bg-indigo-900/40",children:e.jsx(M,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"My Profile"}),e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Manage your personal information"})]})]})}),e.jsxs(o.div,{variants:p,className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsx(q,{user:a})}),e.jsxs("div",{className:"lg:col-span-3 space-y-5",children:[e.jsxs("div",{className:"rounded-xl shadow-md bg-white dark:bg-gray-900 border border-gray-100 dark:border-gray-800 p-6",children:[e.jsx("h2",{className:"text-sm font-semibold text-gray-800 dark:text-white mb-4",children:"Edit Profile"}),e.jsxs("form",{onSubmit:b(y),className:"space-y-4",noValidate:!0,children:[e.jsxs("div",{children:[e.jsx(d,{children:"Full Name *"}),e.jsx("input",{...n("name"),placeholder:"Your full name",className:l}),e.jsx(m,{msg:c.name?.message})]}),e.jsxs("div",{children:[e.jsx(d,{children:"Designation *"}),e.jsx("input",{...n("designation"),placeholder:"e.g. Software Engineer",className:l}),e.jsx(m,{msg:c.designation?.message})]}),e.jsxs("div",{children:[e.jsx(d,{children:"Department *"}),e.jsxs("select",{...n("department"),className:l,children:[e.jsx("option",{value:"",disabled:!0,children:"Select department"}),H.map(s=>e.jsx("option",{value:s,children:s},s))]}),e.jsx(m,{msg:c.department?.message})]}),e.jsxs("div",{children:[e.jsx(d,{children:"Email (cannot be changed)"}),e.jsx("input",{value:a?.email??"",disabled:!0,className:`${l} opacity-50 cursor-not-allowed bg-gray-50 dark:bg-gray-800`})]}),e.jsxs(j,{type:"submit",variant:"primary",size:"md",loading:i,children:[e.jsx($,{className:"w-4 h-4"}),"Save Changes"]})]})]}),e.jsxs("div",{className:"rounded-xl shadow-md bg-white dark:bg-gray-900 border border-gray-100 dark:border-gray-800 p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(z,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"}),e.jsx("h2",{className:"text-sm font-semibold text-gray-800 dark:text-white",children:"Change Password"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(g,{label:"Current Password",type:"password",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"}),e.jsx(g,{label:"New Password",type:"password",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"}),e.jsx(g,{label:"Confirm Password",type:"password",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"}),e.jsx(j,{type:"button",variant:"secondary",size:"md",onClick:()=>u.info("Feature coming soon! ğŸ”’"),children:"Update Password"})]})]})]})]})]})})}export{se as default};
