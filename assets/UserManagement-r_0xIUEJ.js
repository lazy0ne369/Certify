import{u as p,r as x,n as b,o as f,j as e,m as s,d as j,A as v,a6 as y,t as k,s as c,l as o,p as u}from"./index-CW9Uh7i3.js";import{p as d}from"./proxyUsers-DS1B74NO.js";import{P as N}from"./PageWrapper-C_7DPoTf.js";import{E as w}from"./EmptyState-CNmDG-YC.js";import{b as C}from"./certHelpers-CvNo_UVK.js";import{B}from"./briefcase-D9R-ofMx.js";import{B as A}from"./building-2-c_DYbuGm.js";import{C as E}from"./circle-check-big-B_mpq1Dl.js";import{E as U}from"./eye-e4GK6SN1.js";function S({user:a}){const n=p(),[t,r]=x.useState(!0),i=C(a.id),m=i.filter(l=>l.status==="active").length,g=b(a.name),h=f(a.name);return e.jsx(s.div,{variants:j,className:"rounded-xl shadow-md bg-white dark:bg-gray-900 border border-gray-100 dark:border-gray-800 p-5",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[e.jsx("div",{className:"shrink-0",children:a.avatar?e.jsx("img",{src:a.avatar,alt:a.name,className:"w-12 h-12 rounded-full object-cover ring-2 ring-indigo-100 dark:ring-indigo-900"}):e.jsx("span",{className:`w-12 h-12 rounded-full flex items-center justify-center text-white font-bold text-sm ${h}`,children:g})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 dark:text-white truncate",children:a.name}),e.jsx("span",{className:`text-[10px] font-bold px-2 py-0.5 rounded-full ${t?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":"bg-gray-100 text-gray-500 dark:bg-gray-800 dark:text-gray-400"}`,children:t?"Active":"Inactive"})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:a.email}),e.jsxs("div",{className:"flex flex-wrap gap-3 mt-1.5 text-xs text-gray-500 dark:text-gray-400",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(B,{className:"w-3 h-3"})," ",a.designation]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(A,{className:"w-3 h-3"})," ",a.department]})]})]}),e.jsxs("div",{className:"flex gap-3 shrink-0",children:[e.jsxs("div",{className:"flex flex-col items-center px-3 py-2 rounded-xl bg-indigo-50 dark:bg-indigo-900/30",children:[e.jsx(v,{className:"w-3.5 h-3.5 text-indigo-500 mb-0.5"}),e.jsx("span",{className:"text-sm font-bold text-indigo-600 dark:text-indigo-400",children:i.length}),e.jsx("span",{className:"text-[10px] text-indigo-500 dark:text-indigo-400",children:"Total"})]}),e.jsxs("div",{className:"flex flex-col items-center px-3 py-2 rounded-xl bg-emerald-50 dark:bg-emerald-900/30",children:[e.jsx(E,{className:"w-3.5 h-3.5 text-emerald-500 mb-0.5"}),e.jsx("span",{className:"text-sm font-bold text-emerald-600 dark:text-emerald-400",children:m}),e.jsx("span",{className:"text-[10px] text-emerald-500 dark:text-emerald-400",children:"Active"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 shrink-0",children:[e.jsxs("button",{onClick:()=>n(`/admin/users/${a.id}/certifications`),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-xl\r
                       border border-indigo-200 dark:border-indigo-800 text-indigo-600 dark:text-indigo-400\r
                       hover:bg-indigo-50 dark:hover:bg-indigo-900/30 transition-colors`,children:[e.jsx(U,{className:"w-3.5 h-3.5"})," View Certs"]}),e.jsxs("button",{onClick:()=>k.success(`Reminder sent to ${a.name}!`),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-xl\r
                       border border-amber-200 dark:border-amber-800 text-amber-600 dark:text-amber-400\r
                       hover:bg-amber-50 dark:hover:bg-amber-900/20 transition-colors`,children:[e.jsx(y,{className:"w-3.5 h-3.5"})," Remind"]}),e.jsx("button",{onClick:()=>r(l=>!l),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium rounded-xl border transition-colors
              ${t?"border-red-200 dark:border-red-900 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20":"border-emerald-200 dark:border-emerald-900 text-emerald-600 dark:text-emerald-400 hover:bg-emerald-50 dark:hover:bg-emerald-900/20"}`,children:t?"Deactivate":"Activate"})]})]})})}function D(){const[a,n]=x.useState(""),t=x.useMemo(()=>{const r=a.toLowerCase();return r?d.filter(i=>i.name.toLowerCase().includes(r)||i.department?.toLowerCase().includes(r)):d},[a]);return e.jsx(N,{children:e.jsxs(s.div,{variants:c,initial:"hidden",animate:"visible",className:"space-y-5",children:[e.jsx(s.div,{variants:o,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"flex items-center justify-center w-9 h-9 rounded-xl bg-indigo-100 dark:bg-indigo-900/40",children:e.jsx(u,{className:"w-5 h-5 text-indigo-600 dark:text-indigo-400"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"User Management"}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[d.length," registered users"]})]})]})}),e.jsx(s.div,{variants:o,children:e.jsx("input",{type:"text",placeholder:"Search by name or departmentâ€¦",value:a,onChange:r=>n(r.target.value),className:`w-full h-10 pl-4 pr-3 text-sm rounded-xl border border-gray-200 dark:border-gray-700\r
                       bg-white dark:bg-gray-900 text-gray-900 dark:text-white\r
                       placeholder-gray-400 dark:placeholder-gray-500\r
                       focus:outline-none focus:ring-2 focus:ring-indigo-500 transition-colors`})}),e.jsxs(s.p,{variants:o,className:"text-xs text-gray-400 dark:text-gray-500",children:["Showing ",e.jsx("span",{className:"font-semibold text-gray-600 dark:text-gray-300",children:t.length})," of"," ",e.jsx("span",{className:"font-semibold text-gray-600 dark:text-gray-300",children:d.length})," users"]}),t.length===0?e.jsx(w,{title:"No users found",message:"Try adjusting your search."}):e.jsx(s.div,{variants:c,className:"space-y-3",children:t.map(r=>e.jsx(S,{user:r},r.id))})]})})}export{D as default};
